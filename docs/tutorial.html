
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="DESCRIÇÃO AQUI">
  <meta name="author" content="SEU NOME AQUI">

  <title>Vamos programar, manas! &#x2764;</title>

  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- CSS customizados -->
  <link href="custom.css" rel="stylesheet">

  <!-- Prettify -->
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</head>
<body>

  <!-- Aqui começa o conteúdo da página -->
  <div class="container">
    <div class="minha-classe">
      <h1>Tutorial & Arquivos Iniciais <font color="red">&#x2764;</font></h1>
    </div>
    <p class="lead">Agora é a SUA vez de colocar a mão na massa! :D Siga o tutorial e fique à vontade para tirar as dúvidas ao longo do processo, ok? ;)</p>
    <h3>Passo 1</h3>
    <p>Certifique-se de que sua máquina possui um editor de textos instalado (Atom, Sublime ou Visual Studio Code) e um navegador atualizado (Google Chrome ou Firefox).</p>
    <h3>Passo 2</h3>
    <p>Faça o download dos arquivos iniciais <a href="oficina.zip">aqui</a>. A melhor maneira de fazer isso é clicar sobre o link com o botão direito e escolher a opção <strong>"Salvar link como..."</strong>, pois você poderá escolher onde salvar o arquivo.</p>
    <div align="center"><img src="tutorial01.png" style="width:25%;"></div>
    <h3>Passo 3</h3>
    <p>Crie uma pasta, por exemplo, com o nome <strong>"Oficina"</strong>. Descompacte o arquivo <strong>oficina.zip</strong> dentro dela. Sua pasta conterá dois arquivos: <strong>index.html</strong> e <strong>custom.css</strong>. Mas, antes de conversarmos sobre o que é cada arquivo, vamos abrir o editor de textos e, em seguida, vamos adicionar a pasta recém criada da seguinte maneira:</p>
    <div align="center"><img src="tutorial02.png" style="width:25%;"></div></br>
    <p>Clicamos em <strong>File -> Add Project Folder</strong>, conforme a imagem. No Sublime é um pouquinho diferente: <strong>File -> Open</strong> e então você escolhe a pasta que será aberta. Independentemente do editor escolhido, você deverá ver algo bem parecido com isso:</p>
    <div align="center"><img src="tutorial03.png" style="width:80%;"></div></br>
    <p>Esta é a janela do seu editor. Do lado esquerdo encontra-se a pasta do projeto e logo abaixo os dois arquivos contidos nela. Se você clicar no arquivo index.html, ele será aberto ao lado e você verá algo assim:</p>
    <div align="center"><img src="tutorial04.png" style="width:80%;"></div></br>
    <p>Perceba que o texto, além de meio estranho, está colorido. Esta é a razão pela qual utilizamos estes editores de texto (Atom, Sublime ou Visual Studio Code) e não outros já conhecidos e bem utilizados (Word, Writer ou Pages): eles são "especiais", ou seja, são capazes de entender código e exibir elementos diferentes com cores diferentes para facilitar nossa leitura.</p>
    <h3>Passo 4</h3>
    <p>Volte até a pasta Oficina e clique com o botão direito no arquivo index.html e, em seguida, "Abrir com..." (ou equivalente). Na lista de programas sugeridos, escolha o Google Chrome ou o Firefox. Funcionará com qualquer navegador, mas como vamos utilizar um dos dois, prefira escolher um deles.</p>
    <div align="center"><img src="tutorial05.png" style="width:80%;"></div></br>
    <p>Você verá exatamente isso:</p>
    <div align="center"><img src="tutorial06.png" style="width:80%;"></div></br>
    <p>Por enquanto, esta é apenas uma página web simples. Não faz nada... Ainda! O que vamos construir é uma aplicação web utilizando AngularJS. Muita calma nessa hora! Esta página que você está vendo aí e que, por enquanto, não faz nada, em breve fará. Até o momento temos um arquivo HTML, que é a página propriamente dita, e um arquivo CSS que serve para estilizar a página HTML. </br></br>Outra informação importante: esta página não está acessível às outras pessoas ainda. Só você pode vê-la até que ela seja publicada. Falaremos sobre isso mais à frente! <strong>IMPORTATE:</strong> Na seção "Continue a estudar!" eu coloquei um monte de links interessantes para que você possa se aprofundar no assunto, ok? ;)</p>
    <h3>Passo 5</h3>
    <p>Lá no seu editor de textos, dê uma olhadinha no arquivo index.html que está aberto. Note que logo no começo você tem a seguinte linha:</p>
    <div align="center"><img src="tutorial07.png" style="width:50%;"></div></br>
    <p>HTML não é uma linguagem de programação e sim de marcação. Marcamos determinados elementos conforme sua função e, para isso, utilizamos "tags". Neste caso, a tag é &#60;head&#62;. Note que ela começa com &#60;head&#62; e termina com &#60;/head&#62;, ou seja, tags precisam ser fechadas! Experimente mudar o texto entre essas e outras tags do arquivo. Salve seu arquivo e dê reload no navegador. O que acontece? ;)</br></br>Fiz a mesma coisa no meu modelo e agora, no meu navegador, visualizo algo assim:</p>
    <div align="center"><img src="tutorial08.png" style="width:80%;"></div></br>
    <p>Reserve um tempo para se familiarizar com o HTML! :)</p>
    <h3>Passo 6</h3>
    <p>Abra o arquivo custom.css no seu editor de textos. Você verá algo assim:</p>
    <div align="center"><img src="tutorial09.png" style="width:80%;"></div></br>
    <p>E se você der uma olhadinha no seu arquivo index.html, lá no começo dele, verá algo assim:</p>
    <div align="center"><img src="tutorial10.png" style="width:85%;"></div></br>
    <p>A primeira linha indica que estamos usando o Bootstrap e a segunda linha indica que, apesar do Bootstrap, estamos usando nosso próprio CSS para customizar algumas coisinhas por aqui :) Vamos falar um pouquinho sobre CSS e Bootstrap? ;)</br></br>No arquivo custom.css, procure a classe chamada "minha-classe" e faça alguma alteração. Salve o arquivo e dê um reload no navegador. O que aconteceu? :D</p>
    <h3>Passo 7</h3>
    <p>Vamos começar a programar agora, pra valer! :) Dentro da pasta Oficina, crie um arquivo <strong>app.js</strong>. Abra-o no editor de textos e acrescente as seguintes linhas nele:</p>
    <pre class="prettyprint lang-js">

      var sorteioApp = angular.module('sorteioApp', []);

      sorteioApp.controller('SorteioController', function SorteioController($scope) {

        // todo o código virá aqui dentro

      });
    </pre></br>
    <p>Faça isso e salve o arquivo. Possivelmente, você verá algo assim:</p>
    <div align="center"><img src="tutorial11.png" style="width:85%;"></div></br>
    <p>Você criou um módulo Angular que conterá sua aplicação cujo nome é <strong>sorteioApp</strong>. O texto que vem depois de // é um comentário. Ele não conta como código e serve para informar a outra pessoa o que você fez ali ;) Um código sem comentários, mesmo que você conheça a linguagem, torna-se de difícil compreensão.</br></br>Este código ainda não faz muita coisa, mesmo porque ainda não informamos ao nosso arquivo index.html que pretendemos utilizar o AngularJS e muito menos "chamamos" o arquivo app.js nele. Façamos isso então!</br></br>Abra seu arquivo index.html (é bom mantê-lo aberto no editor de textos!). Paralelamente a isso, visite a URL <a href="https://developers.google.com/speed/libraries/">https://developers.google.com/speed/libraries/</a> em uma outra aba. Neste site, você copiará o trecho de código (snippet) que aparece abaixo de <strong>AngularJS</strong>:</p>
    <div align="center"><img src="tutorial12.png" style="width:85%;"></div></br>
    <p>Agora, você colará este trecho de código no seu arquivo index.html abaixo da tag &#60;/title&#62;. Em seguida, copie o código abaixo e cole logo depois deste que você acabou de colar:</p>
    <pre class="prettyprint lang-html">
      &#60;script src="app.js"&#62;&#60;/script&#62;
    </pre>
    <p>O resultado obtido deve ser este:</p>
    <div align="center"><img src="tutorial13.png" style="width:85%;"></div></br>
    <p>Primeiro vemos as tags HTML que dão o título à página. Em seguida, a URL do AngularJS. Abaixo, vemos o código que "chama" o arquivo app.js que criamos e, por fim, a URL do Bootstrap.</br></br>O texto em cinza escrito "Bootstrap" é um comentário HTML. Você pode fazer o mesmo e comentar que a URL que adicionamos é o AngularJS.</br></br>Ainda falta um pequeno detalhe para que a nossa página web "entenda" que ela é a nossa aplicação sorteioApp. Lá no comecinho do nosso arquivo index.html há uma linha assim:</p>
    <pre class="prettyprint lang-html">
      &#60;html lang="pt-br"&#62;
    </pre>
    <p>Vamos trocá-la por:</p>
    <pre class="prettyprint lang-html">
      &#60;html ng-app="sorteioApp"&#62;
    </pre>
    <p>Feito isso, salve tudo. Se você der reload na página, nada acontecerá, então vamos testar se está tudo funcionando direitinho... ;)</p>
    <h3>Passo 8</h3>
    <p>O Google Chrome (e os outros navegadores também) fornece uma ferramenta para que possamos ver se está tudo funcionando com nosso código. Para ativar esta ferramenta, vamos fazer o seguinte: com a página da nossa aplicação aberta, vamos clicar em <strong>Visualizar -> Desenvolvedor -> Console JavaScript</strong> como mostra a imagem:</p>
    <div align="center"><img src="tutorial14.png" style="width:85%;"></div></br>
    <p>Sua janela do Chrome deverá ficar como mostrado abaixo: com a aplicação à esquerda e um console à direita.</p>
    <div align="center"><img src="tutorial15.png" style="width:85%;"></div></br>
    <p>Por enquanto, o console em branco é um bom sinal. Nada deu errado ;)</br></br>Vá até seu arquivo app.js e acrescente as seguintes linhas abaixo do comentário e salve.</p>
    <pre class="prettyprint lang-js">

      $scope.teste = 'Olá, mundo!';
      console.log($scope.teste);

    </pre>
    <p>No arquivo index.html, procure a tag &#60;body&#62; e a modifique para ficar assim:</p>
    <pre class="prettyprint lang-html">
      &#60;body ng-controller="SorteioController"&#62;
    </pre>
    <p>Salve tudo e dê reload no navegador. O que aconteceu? ;)</br></br>Se você editar seu arquivo index.html e inserir {{teste}} em algum lugar, conforme o sugerido abaixo, o que acontecerá? ;)</p>
    <div align="center"><img src="tutorial16.png" style="width:90%;"></div></br>
    <p>Vamos falar um pouquinho sobre variáveis e sobre o que aconteceu aqui antes do próximo passo! ;)</p>
    <h3>Passo 9</h3>
    <p>Você viu na aplicação de exemplo que nosso objetivo é coletar nomes de participantes e, então, fazermos um sorteio. Nossa aplicação inclusive informa se um determinado participante já foi sorteado.</br></br>Precisamos de variáveis que possam armazenar o nome de um participante (uma <strong>string</strong>) para então acrescentarmos esse nome no <strong>array</strong> de participantes. Também precisamos de um outro array que armazene quem já foi sorteado e, por mim, de uma variável para armazenar o resultado.</br></br>Vamos acrescentar as seguintes linhas ao código do arquivo app.js no lugar do código do "Olá, mundo!":</p>
    <pre class="prettyprint lang-js">

      // string com o nome de um participante
      $scope.nomeDoParticipante = '';

      // array com todos os participantes
      $scope.participantes = [ ];

      // array que receberá a posição do participante sorteado
      $scope.sorteados = [ ];

      // string com o resultado
      $scope.resultado = '';

    </pre></br>
    <p>Lembre-se de apagar o {{teste}} do index.html já que também apagamos o conteúdo correspondente do arquivo app.js ;)</br></br>Não se preocupe com os pormenores ainda, ok? Está tudo comentado (uma boa prática) e vamos fazer passo-a-passo. <strong>IMPORTANTE:</strong> Não se preocupe se não absorver 100% do conteúdo deste tutorial hoje. É bastante coisa mesmo e é só o começo da jornada!</p>
    <p>Todas as variáveis que foram adicionadas estão vazias. Apenas as inicializamos.</p>
    <h3>Passo 10</h3>
    <p>Vamos acrescentar no nosso index.html os componentes necessários para que possamos digitar o nome de um participante e o botão que realizará a ação relacionada a isso. Acrescente o código abaixo no seu index.html logo depois das edições que você fez no começo do tutorial. Salve e dê reload no navegador.</p>
    <pre class="prettyprint lang-html">

      &#60;form class="form-inline" &#62;
      &#60;div class="form-group"&#62;
      &#60;input type="text" class="form-control" placeholder="Nome do Participante"&#62;
      &#60;/div&#62;
      &#60;button type="submit" class="btn btn-default"&#62;Adicionar&#60;/button&#62;
      &#60;/form&#62;

    </pre></br>
    <p>Você deve ver algo bem parecido com isso:</p>
    <div align="center"><img src="tutorial17.png" style="width:90%;"></div></br>
    <p>Tire um tempo para entender o que você acabou de acrescentar. Por enquanto, foi só HTML. Vai ser necessário acrescentar "algo mais" para que algo aconteça ao nome digitado no campo "Nome do participante".</br></br>Queremos que, ao clicar no botão "Adicionar", o nome digitado seja colocado no array de participantes. Precisamos implementar uma <strong>função</strong> que realize esta tarefa.</br></br>Copie o código abaixo e coloque logo após às variáveis no seu arquivo app.js:</p>
    <pre class="prettyprint lang-js">
      // função que adiciona o nome do participante ao array de participantes
      $scope.adicionarParticipante = function() {
        $scope.participantes.push($scope.nomeDoParticipante);
        $scope.nomeDoParticipante = '';
        console.log($scope.participantes); // mostra o array no console
      };

    </pre></br>
    <p>O que temos de diferente neste código? Vamos falar sobre isso! :)</br></br>Neste código, "adicionarParticipante" é o nome da nossa função. Na linha seguinte temos <strong>$scope.participantes.push</strong>, essa linha acrescenta um elemento a um array.</br></br>No caso, como temos <strong>$scope.participantes.push($scope.nomeDoParticipante)</strong> significa que a variável <strong>$scope.nomeDoParticipante</strong> que contém a string com o nome digitado no formulário será adicionada ao array <strong>$scope.participantes</strong> ;)</br></br>Depois que isso ocorre, limpamos a caixa de texto do formulário com a linha <strong>$scope.nomeDoParticipante = '';</strong> e, por fim, exibimos no console o array com a linha <strong>console.log($scope.participantes);</strong>, conforme o comentário.</br></br>Agora, vá até o arquivo index.html pois precisamos "informá-lo" de que este formulário tem que trabalhar ;)</br></br>Modifique o código do formulário acrescentando <strong>ng-model="nomeDoParticipante"</strong> na tag referente ao campo de texto e <strong>ng-click="adicionarParticipante()"</strong> na tag referente ao botão. O código ficará assim:
      <pre class="prettyprint lang-html">

        &#60;form class="form-inline" &#62;
        &#60;div class="form-group"&#62;
        &#60;input type="text" class="form-control" placeholder="Nome do Participante"
        ng-model="nomeDoParticipante"&#62;
        &#60;/div&#62;
        &#60;button type="submit" class="btn btn-default"
        ng-click="adicionarParticipante()"&#62;Adicionar&#60;/button&#62;
        &#60;/form&#62;

      </pre></p>
      <p>Salve tudo e dê reload no seu navegador. O que acontece cada vez que você digita um nome e clica em Adicionar?</br></br>Vamos falar um pouquinho sobre o que <strong>ng-model</strong> e <strong>ng-click</strong> fazem? ;)</p>

      <h3>Passo 11</h3>
      <p>Até o momento, conseguimos inserir os nomes dos participantes e visualizamos isso no console. Vamos agora acrescentar no nosso index.html o botão para sortear e outro para reiniciar o sorteio. Para isso, copie e cole o código abaixo da tag &#60;/form&#62;.</p>
      <pre class="prettyprint lang-html">

        &#60;div align="center"&#62;
        &#60;button type="button" class="btn btn-success btn-lg"
        ng-click="sorteia()"&#62;Sortear&#60;/button&#62;
        &#60;button type="button" class="btn btn-warning btn-lg"
        ng-click="limpa()"&#62;Reiniciar&#60;/button&#62;
        &#60;/div&#62;

      </pre></br>
      <p>Agora que você já sabe para que serve o <strong>ng-click</strong>, possivelmente já imagina que teremos duas funções: <strong>sorteia()</strong> e <strong>limpa()</strong>.</br></br>Começaremos pela função mais fácil e mais curtinha, a função limpa().</br></br>Copie o código abaixo cole depois da função <strong>adicionarParticipante</strong>:</p>

      <pre class="prettyprint lang-js">

        // função que limpa o array de participantes e o resultado
        $scope.limpa = function() {
          $scope.participantes = [ ];
          $scope.resultado = '';
        };

      </pre></br>
      <p>Note que as duas linhas dentro da função são iguais às linhas que adicionamos no início do arquivo app.js. Quando fazemos isso, estamos reinicializando essas variáveis sem nenhum conteúdo.</p>

      <h3>Passo 12</h3>
      <p>Agora precisamos implementar a função sorteia(). Como esta é uma função maior e mais complexa, vamos implementar e falar sobre cada parte dela, ok? Copie o código abaixo e cole abaixo da função limpa().</p>
      <pre class="prettyprint lang-js">

// função que realiza o sorteio
$scope.sorteia = function() {

  // mostra no console todos os participantes que estarão no sorteio (1)
  console.log($scope.participantes);

  // gera um número aleatório dentro do intervalo desejado (2)
  $scope.random = Math.floor(Math.random() * $scope.participantes.length);

  // procura o nome do sorteado no array de participantes (3)
  $scope.sorteado = $scope.participantes[$scope.random];

  // procura no array de sorteados (4)
  $scope.foiSorteado = $scope.sorteados.indexOf($scope.random);

  // se não foi sorteado, exibe o nome (5)
  if ($scope.foiSorteado == -1) {
  $scope.resultado = $scope.sorteado + ' foi sorteado(a)! Parabéns!';
  } else {
  $scope.resultado = $scope.sorteado + ' já foi sorteado(a). Faça outro sorteio!';
  }

  // insere o número do sorteado no array de sorteados (6)
  $scope.sorteados.push($scope.random);

};
      </pre></br>
<p>Vamos falar de cada parte da função:</br></br>
(1) Esta parte é somente para que possamos visualizar no console os participantes elencados no sorteio.</br></br>
(2) Aqui entra a "mágica" ;) Temos funções dentro dessa função! Estranho, né? Mas não se preocupe! <strong>Math.random()</strong> gera um número aleatório entre 0 e 1. <strong>Math.floor()</strong> arredonda números para inteiros. Também temos a expressão <strong>$scope.participantes.length</strong> que retorna a quantidade de itens dentro de um array então, neste caso, está retornando o número total de participantes, que é um inteiro. Então a ideia aqui é gerar um número aleatório, multiplicar pelo número de participantes e arredondar para um inteiro. Isso será salvo na variável <strong>random</strong>.</br></br>
(3) Esse número, <strong>$scope.random</strong> vai nos dizer a posição do sorteado no array de participantes, por isso temos <strong>$scope.participantes[$scope.random];</strong> que nos retorna o nome do participante e isso será salvo na variável <strong>$scope.sorteado</strong>.</br></br>
(4) Sabemos que o array <strong>$scope.sorteados</strong> armazena a posição que o participante sorteado ocupa no array de participantes. Então procuramos a variável <strong>$scope.random</strong> dentro do array sorteados. Se essa posição (que o participante sorteado ocupa no array de participantes) NÃO for encontrada através da busca <strong>$scope.sorteados.indexOf($scope.random)</strong>, retornará -1. Isso vai nos dizer que aquele participante já foi sorteado ou não.</br></br>
(5) Aqui temos uma condição: se a variável <strong>$scope.foiSorteado</strong> retornar -1, significa que o participante ainda não foi sorteado. Caso contrário, ele já foi sorteado. Isso controla o fluxo da informação. Se não foi sorteado, gera uma determinada mensagem. Se já foi sorteado, gera outra. Independentemente do caso, a mensagem será armazenada em <strong>$scope.resultado</strong>.</br></br>
(6) Sempre que um sorteio é feito, a posição que o participante ocupada no array de participantes é inserida no array de sorteados.</br></br>
</p></br>
<p>Note que não inicializamos a variável $scope.foiSorteado então faremos isso acrescentando a linha a seguir junto às outras variáveis do nosso arquivo app.js:</p>
<pre class="prettyprint lang-js">

  // a busca dentro do array retorna -1 sempre que algo NÃO é encontrado!
  $scope.foiSorteado = -1;

</pre></br>
<p>Nós começamos sempre com um participante que NÃO FOI sorteado, então ele não será encontrado no array de sorteados, por isso inicializamos esta variável com o -1. No decorrer da execução da aplicação, seu valor mudará :)</p>


      <h3>Passo 13</h3>
      <p>O passo 12 foi longo e complicado né? Mas estamos quase terminando :) Agora precisamos exibir as informações do sorteio na nossa página web. Nós vamos exibir a lista de participantes e o resultado do sorteio. Adicione o código abaixo antes do código dos botões Sortear e Reiniciar para exibir os participantes:</p>

      <pre class="prettyprint lang-html">

        &#60;div class="names-list" ng-repeat="participante in participantes"&#62;
          &#60;span ng-bind="participante"&#62;&#60;/span&#62;
        &#60;/div&#62;
      </pre></p>
      <p>E adicione o código abaixo logo depois do código dos botões Sortear e Reiniciar para exibir o resultado do sorteio:</p>
      <pre class="prettyprint lang-html">

        &#60;div class="winner"&#62;{{resultado}}&#60;/div&#62;
      </pre></p>
      <p>Salve tudo, dê reload no navegador e teste sua aplicação ;)</br></br>Pense no que o <strong>ng-repeat</strong> faz... Vamos falar sobre isso? Vamos falar também sobre as classes "names-list" e "winner": elas não estão no nosso arquivo custom.css! Utilize seus novos conhecimentos para escrevê-las e mudar como a lista de participantes e o resultado aparecem! :)</p>

<h3>Continua ;)</h3>
<p>Se você chegou até aqui, você está de parabéns! Se você não chegou, não importa :) Cada passo dado é um passo a mais no mundo da programação!</br></br></p>
    </br></br></br>




    <div align="center">
      <a href="index.html" class="btn btn-success" role="button">Home</a>
      <a href="sorteioapp.html" class="btn btn-primary" role="button">Vamos fazer um sorteio!</a>
      <a href="tutorial.html" class="btn btn-warning" role="button">Tutorial & arquivos iniciais</a>
      <a href="extras.html" class="btn btn-danger" role="button">Continue a estudar!</a>

    </div>
  </br></br>

</div>

<!-- Aqui é o rodapé -->
<footer class="footer">
  <div class="container">
    <span class="text-muted">feito pela <a href="http://about.me/erikacb">Erika Bueno</a> com <font color="orange">&#x2764;</font> + <a href="https://angularjs.org/" class="angularjs-link">AngularJS</a> + <a href="http://getbootstrap.com/" class="bootstrap-link">Bootstrap</a></span>
  </div>
</footer>

</body>
</html>
